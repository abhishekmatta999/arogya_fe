"use strict";(self.webpackChunkarogyaAi=self.webpackChunkarogyaAi||[]).push([[965],{8965:(N,g,c)=>{c.d(g,{G:()=>q});var s=c(4006),l=c(5938),m=c(7579),x=c(8372),h=c(1884),f=c(2619),_=c(8134),t=c(4650),v=c(2683),y=c(9197),d=c(6895),C=c(7835),u=c(9428);let b=(()=>{class n{constructor(){this.cls="",this.isReset=!0,this.placeholder="Search Food Item",this.filter=new t.vpe,this.searchKey=""}ngOnChanges(e){e?.isReset?.previousValue||(this.searchKey="")}searchOnChange(e){this.filter.emit(e.target.value)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["fit-search"]],inputs:{cls:"cls",isReset:"isReset",placeholder:"placeholder"},outputs:{filter:"filter"},features:[t.TTD],decls:4,vars:5,consts:[[1,"d-flex","justify-content-center"],["type","text",3,"ngClass","placeholder","ngModel","ngModelChange","keyup"]],template:function(e,o){1&e&&(t.ynx(0),t.TgZ(1,"div",0)(2,"input",1),t.NdJ("ngModelChange",function(r){return o.searchKey=r})("keyup",function(r){return o.searchOnChange(r)}),t.ALo(3,"translate"),t.qZA()(),t.BQk()),2&e&&(t.xp6(2),t.s9C("placeholder",t.lcZ(3,3,o.placeholder)),t.Q6J("ngClass",o.cls)("ngModel",o.searchKey))},dependencies:[d.mk,s.Fj,s.JJ,s.On,u.X],styles:["input[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 0 .5rem .75rem;border:.063rem solid rgba(0,0,0,.13);border-radius:10px;box-shadow:0 .25rem 1.25 #00000012;width:100%;height:50px;background-color:var(--bg-color);outline:none}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.table-search[_ngcontent-%COMP%]{width:fit-content;min-width:26.313rem}.home-search[_ngcontent-%COMP%]{width:15.063rem}"]}),n})();var T=c(9549);function Z(n,i){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"img",16),t.qZA())}function P(n,i){1&n&&t._UZ(0,"img",17)}function k(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.clickEvent(r))}),t.TgZ(1,"div",11)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",12)(7,"p"),t._uU(8),t.qZA(),t.YNc(9,Z,2,0,"div",13),t.YNc(10,P,1,0,"img",14),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.AsE("[",e.quantity," ",e.unit,"]"),t.xp6(3),t.hij("",e.calories," cal"),t.xp6(1),t.Q6J("ngIf","addmeal"==o.data.functionType),t.xp6(1),t.Q6J("ngIf","getrecepie"==o.data.functionType)}}function M(n,i){1&n&&t._UZ(0,"div",18)}function O(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"img",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.Cancel())}),t.qZA()()(),t.TgZ(6,"div",5)(7,"fit-search",6),t.NdJ("filter",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.valueEntered(a))}),t.qZA(),t.TgZ(8,"div",7),t.YNc(9,k,11,6,"div",8),t.YNc(10,M,1,0,"div",9),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.data.header),t.xp6(5),t.Q6J("ngForOf",e.searchResultList),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function F(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"option",30),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e.unit),t.xp6(1),t.hij(" ",e.unit," ")}}function w(n,i){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"validationError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,e.measureTargetForm.get("currentWeight"),e.getTranslate("enterWeight")))}}function A(n,i){if(1&n&&(t.TgZ(0,"div",31),t._UZ(1,"fit-outline-header",19),t.TgZ(2,"div",32)(3,"div",33)(4,"div",34),t._uU(5,"Calories"),t.qZA(),t.TgZ(6,"div",35),t._uU(7),t.qZA()(),t.TgZ(8,"div",33)(9,"div",34),t._uU(10,"Carbs"),t.qZA(),t.TgZ(11,"div",35),t._uU(12),t.qZA()(),t.TgZ(13,"div",33)(14,"div",34),t._uU(15,"Fat"),t.qZA(),t.TgZ(16,"div",35),t._uU(17),t.qZA()(),t.TgZ(18,"div",33)(19,"div",34),t._uU(20,"Fiber"),t.qZA(),t.TgZ(21,"div",35),t._uU(22),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("headerText","Nutrition Facts")("margin","0 -5px"),t.xp6(6),t.Oqu(e.nutriData.calories),t.xp6(5),t.Oqu(e.nutriData.carbs),t.xp6(5),t.Oqu(e.nutriData.fat),t.xp6(5),t.Oqu(e.nutriData.fiber)}}function S(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"img",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.Cancel())}),t.qZA()()(),t.TgZ(6,"div",5),t._UZ(7,"fit-outline-header",19),t.TgZ(8,"div",20)(9,"p",21),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"span",22),t._uU(13,"*"),t.qZA()(),t.TgZ(14,"div",23)(15,"input",24),t.NdJ("keypress",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.validateNumericInput(a))})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getNutridata())}),t.qZA(),t.TgZ(16,"select",25),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getNutridata())}),t.YNc(17,F,3,2,"ng-container",26),t.qZA(),t.YNc(18,w,3,4,"mat-error",27),t.qZA()(),t.YNc(19,A,23,6,"div",28),t.TgZ(20,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.submitFood())}),t._uU(21,"Add Item"),t.qZA()()()}if(2&n){const e=t.oxw();let o;t.xp6(4),t.Oqu(null==e.foodData?null:e.foodData.name),t.xp6(3),t.Q6J("headerText","Add food quantity")("margin","0 -5px"),t.xp6(3),t.hij(" ",t.lcZ(11,9,"quantity")," "),t.xp6(5),t.Q6J("formControl",e.foodQuantity),t.xp6(1),t.Q6J("formControl",e.foodUnit),t.xp6(1),t.Q6J("ngForOf",e.unitList),t.xp6(1),t.Q6J("ngIf",(null==e.measureTargetForm||null==(o=e.measureTargetForm.get("currentWeight"))?null:o.touched)&&(null==e.measureTargetForm||null==(o=e.measureTargetForm.get("currentWeight"))?null:o.errors)),t.xp6(1),t.Q6J("ngIf",e.nutriData)}}let q=(()=>{class n{constructor(e,o,a,r){this.data=e,this.dialogRef=o,this.layoutService=a,this.router=r,this.searchSubject=new m.x,this.searchResultList=[],this.isLoading=!1,this.foodQuantity=new s.NI(null,[s.kI.required,s.kI.pattern(f.fn.numericString)]),this.foodUnit=new s.NI(null,[s.kI.required]),this.unitList=_.d9}ngOnInit(){this.dialogRef.addPanelClass("pannel-container"),this.searchSubject.pipe((0,x.b)(1e3),(0,h.x)()).subscribe(e=>{if(e){const o={name:e};this.isLoading=!0,this.layoutService.searchFoodItem(o).subscribe({next:a=>{this.isLoading=!1,this.searchResultList=a.data}})}})}Cancel(){this.dialogRef.close()}valueEntered(e){this.searchSubject.next(e)}clickEvent(e){"addmeal"==this.data.functionType?this.onAddMeal(e):this.gotoRecepie(e)}onAddMeal(e){this.foodData=e,this.unitList=this.unitList[this.foodData?.food_type]}getNutridata(){const e=this.foodQuantity.value,o=this.unitList.find(a=>{if(a.unit==this.foodUnit.value)return a})?.unit_in_g;if(e&&o){const a=e*o,r=this.unitList.find(p=>{if(p.unit==this.foodData.unit)return p})?.unit_in_g||120;this.nutriData={calories:Math.round(this.extractWeight(this.foodData.calories)/(this.foodData.quantity*r)*a),carbs:Math.round(this.extractWeight(this.foodData.carbs)/(this.foodData.quantity*r)*a),fat:Math.round(this.extractWeight(this.foodData.fat)/(this.foodData.quantity*r)*a),fiber:Math.round(this.extractWeight(this.foodData.fiber)/(this.foodData.quantity*r)*a)}}}gotoRecepie(e){this.router.navigate(["layout/recepie-details"],{queryParams:{foodName:e.name}}),this.dialogRef.close()}validateNumericInput(e){return!isNaN(+e.key)}submitFood(){const e={meal_name:this.foodData.name,meal_quantity:Number(this.foodQuantity.value),unit:this.foodUnit.value,meal_type:this.data.mealType};this.layoutService.saveGetTrackPlan(e).subscribe(o=>{this.dialogRef.close({data:!0})})}extractWeight(e){const o=e.match(/(\d+(\.\d+)?)/);return o?parseFloat(o[0]):0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.WI),t.Y36(l.so),t.Y36(v.P),t.Y36(y.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["fit-search-food-popup"]],decls:2,vars:2,consts:[["class","mat-dialog-style",4,"ngIf"],[1,"mat-dialog-style"],[1,"popupHeading","d-flex","justify-content-between","align-items-start"],[1,"d-flex","align-items-center","justify-content-between","w-100","pt-3"],["src","assets/images/cross-white.svg","height","20px","alt","",3,"click"],[1,"inner-container","p-2"],[3,"filter"],[1,"search-container"],["class","search-result p-3 d-flex justify-content-between",3,"click",4,"ngFor","ngForOf"],["class","loader",4,"ngIf"],[1,"search-result","p-3","d-flex","justify-content-between",3,"click"],[1,"food-name","d-flex","align-items-center"],[1,"actions","d-flex","align-items-center"],["class","popup-btn d-flex",4,"ngIf"],["class","rotate180","src","assets/images/arrow-primary.svg","height","12px","alt","",4,"ngIf"],[1,"popup-btn","d-flex"],["src","assets/images/plus-white.svg","height","15px","alt",""],["src","assets/images/arrow-primary.svg","height","12px","alt","",1,"rotate180"],[1,"loader"],[3,"headerText","margin"],[1,"form-group"],[1,"form-label"],[1,"mandatory"],[1,"position-relative","input-select"],["type","text","maxlength","3",1,"form-control",3,"formControl","keypress","input"],[1,"position-absolute",3,"formControl","change"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","nutri-detail mt-4 mb-2",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[3,"value"],[1,"nutri-detail","mt-4","mb-2"],[1,"row","m-0","p-0"],[1,"card-container","my-2","col-md-4"],[1,"primary"],[1,"dark"]],template:function(e,o){1&e&&(t.YNc(0,O,11,3,"div",0),t.YNc(1,S,22,11,"div",0)),2&e&&(t.Q6J("ngIf",!o.foodData),t.xp6(1),t.Q6J("ngIf",o.foodData))},dependencies:[d.sg,d.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.nD,s.oH,C.R,b,T.TO,u.X],styles:['.my-class[_ngcontent-%COMP%]{font-size:1rem}[_ngcontent-%COMP%]:root{--body: #f6f6f6;--primary-color: #5cab56;--primary-color-light: #d8edd6;--bg-color: #ffffff;--gray-100: #f8f9fa;--gray-200: #dee2e6;--gray-300: #dee2e6;--gray-400: #ced4da;--gray-500: #adb5bd;--gray-600: #6c757d;--gray-700: #495057;--gray-800: #343a40;--gray-900: #212529}.dark-mode[_ngcontent-%COMP%]{--body: #0b141a;--bg-color: #202c33;--text-color: #ffffff;--primary-color: #5cab56;--primary-color-light: #d8edd6;--gray-100: #2e2e2e;--gray-200: #afafaf;--gray-300: #4a4a4a;--gray-400: #5a5a5a;--gray-500: #6b6b6b;--gray-600: #7c7c7c;--gray-700: #8d8d8d;--gray-800: #9e9e9e;--gray-900: #afafaf}.m-0-auto[_ngcontent-%COMP%]{margin:0 auto}.mat-dialog-actions[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:20px}.mat-dialog-container[_ngcontent-%COMP%]{background:var(--primary-color-light)}.mat-dialog-style[_ngcontent-%COMP%]{width:800px}.popupHeading[_ngcontent-%COMP%]{background:var(--primary-color);min-height:120px;padding:0 20px}.popupHeading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--bg-color);margin:0;font-weight:600}.inner-container[_ngcontent-%COMP%]{width:calc(100% - 20px);margin:-60px auto auto;background:var(--bg-color);border-radius:.75rem;min-height:400px;max-height:600px;overflow-y:auto;margin-bottom:1rem;box-shadow:0 4px 8px #0000001a}  .pannel-container .mat-dialog-container{padding:0;background:var(--primary-color-light)}.search-result[_ngcontent-%COMP%]{border-bottom:1px solid var(--gray-400)}.search-result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--gray-900);font-weight:500;margin:0 5px 0 0}.search-result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gray-500)}.search-result[_ngcontent-%COMP%]   .popup-btn[_ngcontent-%COMP%]{height:20px;width:20px;background-color:var(--primary-color)}.search-result[_ngcontent-%COMP%]   .popup-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto}.search-result[_ngcontent-%COMP%]   .rotate180[_ngcontent-%COMP%]{rotate:270deg}.search-result[_ngcontent-%COMP%]:hover{background-color:var(--gray-200)}.card-container[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--primary-color)}.card-container[_ngcontent-%COMP%]   .dark[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:var(--gray-700)}.loader[_ngcontent-%COMP%]{width:35px;height:80px;position:absolute;top:50%;left:50%}.loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0 0 20px;border-radius:15px 15px 10px 10px;padding:1px;background:repeating-linear-gradient(-45deg,#91d2e2 0 8px,#1296a7 0 12px) content-box;--c: radial-gradient(farthest-side, #000 94%, #0000);mask:linear-gradient(#000 0 0),var(--c) -10px -10px,var(--c) 15px -14px,var(--c) 9px -6px,var(--c) -12px 9px,var(--c) 14px 9px,var(--c) 23px 27px,var(--c) -8px 35px,var(--c) 50% 50%,linear-gradient(rgba(0,0,0,0) 0 0);mask-composite:exclude,add,add,add,add,add,add,add,add;-webkit-mask-repeat:no-repeat;animation:l2 3s infinite}.loader[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:50% calc(50% - 4px) 0;background:#e0a267;border-radius:50px}@keyframes l2{0%{-webkit-mask-size:auto,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0}10%{-webkit-mask-size:auto,25px 25px,0 0,0 0,0 0,0 0,0 0,0 0,0 0}20%{-webkit-mask-size:auto,25px 25px,25px 25px,0 0,0 0,0 0,0 0,0 0,0 0}30%{-webkit-mask-size:auto,25px 25px,25px 25px,30px 30px,0 0,0 0,0 0,0 0,0 0}40%{-webkit-mask-size:auto,25px 25px,25px 25px,30px 30px,30px 30px,0 0,0 0,0 0,0 0}50%{-webkit-mask-size:auto,25px 25px,25px 25px,30px 30px,30px 30px,25px 25px,0 0,0 0,0 0}60%{-webkit-mask-size:auto,25px 25px,25px 25px,30px 30px,30px 30px,25px 25px,25px 25px,0 0,0 0}70%{-webkit-mask-size:auto,25px 25px,25px 25px,30px 30px,30px 30px,25px 25px,25px 25px,25px 25px,0 0}80%,to{-webkit-mask-size:auto,25px 25px,25px 25px,30px 30px,30px 30px,25px 25px,25px 25px,25px 25px,200% 200%}}']}),n})()}}]);